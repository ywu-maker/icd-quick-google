<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>ICD Quick Google</title>
  <style>
    body { font-family: Arial, sans-serif; padding: 20px; max-width: 600px; margin: auto; }
    input, button { padding: 8px; margin: 5px 0; width: 100%; }
    .result { background: #f9f9f9; padding: 10px; border: 1px solid #ccc; margin-top: 10px; border-radius: 5px; }
    a { text-decoration: none; color: #0645ad; }
  </style>
</head>
<body>
  <h2>ICD Quick Google</h2>
  <label for="diagnosis">Diagnosis (e.g. BCC, SCC, AK, MEL):</label>
  <input type="text" id="diagnosis" placeholder="Enter diagnosis abbreviation or full name">

  <label for="location">Body Location (e.g. cheek, scalp, arm):</label>
  <input type="text" id="location" placeholder="Enter body site">

  <button onclick="searchICD10()">üîç Search ICD-10 on Google</button>

  <div id="result" class="result" style="display:none;"></div>

  <script>
    function searchICD10() {
      const diag = document.getElementById("diagnosis").value.trim();
      const loc = document.getElementById("location").value.trim();

      if (!diag || !loc) {
        alert("Please enter both diagnosis and location.");
        return;
      }

      const prompt = `icd 10 code for ${diag} at skin of ${loc}`;
      const query = encodeURIComponent(prompt);
      const url = `https://www.google.com/search?q=${query}`;

      // Auto-open result tab
      window.open(url, '_blank');

      // Display link in-page
      const resultDiv = document.getElementById("result");
      resultDiv.innerHTML = `<p>Result opened in a new tab:</p><p><a href="${url}" target="_blank">üîó ${url}</a></p>`;
      resultDiv.style.display = "block";
    }

    // Enable Enter key to trigger search
    document.addEventListener("keydown", function(event) {
      if (event.key === "Enter") {
        event.preventDefault();
        searchICD10();
      }
    });
  </script>
</body>
</html>
